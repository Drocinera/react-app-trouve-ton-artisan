{"ast":null,"code":"import React from\"react\";import{useParams}from\"react-router-dom\";import data from\"../datas.json\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FicheArtisan=()=>{const{id}=useParams();const artisan=data.find(item=>item.id===id);if(!artisan){return/*#__PURE__*/_jsx(\"div\",{children:\"Artisan non trouv\\xE9\"});}const handleSubmit=event=>{event.preventDefault();const formData=new FormData(event.target);const formValues=Object.fromEntries(formData.entries());formValues.artisanEmail=artisan.email;fetch('/send-email',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formValues)}).then(response=>response.json()).then(data=>{if(data.message){alert(data.message);}}).catch(error=>{console.error('Erreur:',error);});};(()=>{const forms=document.querySelectorAll('.needs-validation');Array.from(forms).forEach(form=>{form.addEventListener('submit',event=>{if(!form.checkValidity()){event.preventDefault();event.stopPropagation();}form.classList.add('was-validated');},false);});})();return/*#__PURE__*/_jsxs(\"div\",{className:\"colorTest\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cardStyle row py-3 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"card col border border-dark\",style:{width:'18rem'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"cardColor card-body  text-center\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title text-uppercase\",children:artisan.name}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-subtitle mb-2 text-body-secondary\",children:[\"Note :\",artisan.note,\"/5 \",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-star text-warning\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:artisan.specialty}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:artisan.location}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:artisan.about}),/*#__PURE__*/_jsx(\"a\",{href:artisan.website,className:\"card-text\",children:artisan.website})]})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"ficheArtisanTitle text-dark py-2 mx-4 text-center \",children:\"Une demande ? Remplissez le formulaire pour contacter l'artisan !\"}),/*#__PURE__*/_jsx(\"div\",{className:\"colorTest2\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"contactForm\",className:\"row g-3 needs-validation px-4\",novalidate:true,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputFirstName\",className:\"col-sm-2 col-form-label\",children:\"Nom :\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"inputFirstName\",placeholder:\"Nom\",required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputLastName\",className:\"col-sm-2 col-form-label\",children:\"Pr\\xE9nom :\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"inputLastName\",placeholder:\"Pr\\xE9nom\",required:true})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputEmail3\",className:\"col-sm-2 col-form-label\",children:\"Email :\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"inputEmail3\",placeholder:\"exemple@exemple.com\",required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputSujet\",className:\"col-sm-2 col-form-label\",children:\"Sujet du message:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"inputSujet\",placeholder:\"Objet de votre message\",required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"formControlTextarea1\",className:\"form-label\",children:\"Message :\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"formControlTextarea1\",rows:\"3\",placeholder:\"Entrez votre message ici\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10 offset-sm-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"gridCheck1\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"gridCheck1\",children:\"En cochant cette case vous affirmez que toutes les informations sont exactes\"})]})})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary m-3\",children:\"Envoyer\"})]})})]});};export default FicheArtisan;","map":{"version":3,"names":["React","useParams","data","jsx","_jsx","jsxs","_jsxs","FicheArtisan","id","artisan","find","item","children","handleSubmit","event","preventDefault","formData","FormData","target","formValues","Object","fromEntries","entries","artisanEmail","email","fetch","method","headers","body","JSON","stringify","then","response","json","message","alert","catch","error","console","forms","document","querySelectorAll","Array","from","forEach","form","addEventListener","checkValidity","stopPropagation","classList","add","className","style","width","name","note","specialty","location","about","href","website","novalidate","onSubmit","htmlFor","type","placeholder","required","rows"],"sources":["C:/Users/theop/OneDrive/Documents/programmeur/TrouveTonArtisan-React-App/react-app-trouve-ton-artisan/src/Components/FicheArtisan.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport data from \"../datas.json\";\r\n\r\nconst FicheArtisan = () => {\r\n  const { id } = useParams();\r\n  const artisan = data.find(item => item.id === id);\r\n\r\n  if (!artisan) {\r\n    return <div>Artisan non trouvé</div>;\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const formData = new FormData(event.target);\r\n    const formValues = Object.fromEntries(formData.entries());\r\n    formValues.artisanEmail = artisan.email; \r\n\r\n    fetch('/send-email', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(formValues),\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (data.message) {\r\n          alert(data.message);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Erreur:', error);\r\n      });\r\n  };\r\n\r\n\r\n  (() => {\r\n    const forms = document.querySelectorAll('.needs-validation')\r\n  \r\n    Array.from(forms).forEach(form => {\r\n      form.addEventListener('submit', event => {\r\n        if (!form.checkValidity()) {\r\n          event.preventDefault()\r\n          event.stopPropagation()\r\n        }\r\n  \r\n        form.classList.add('was-validated')\r\n      }, false)\r\n    })\r\n  })();\r\n\r\n  return (\r\n    <div className=\"colorTest\">\r\n      <div className=\"cardStyle row py-3 \">\r\n        <div className=\"card col border border-dark\" style={{width: '18rem'}}>\r\n          <div className=\"cardColor card-body  text-center\">\r\n            <h5 className=\"card-title text-uppercase\">{artisan.name}</h5>\r\n            <h6 className=\"card-subtitle mb-2 text-body-secondary\">Note :{artisan.note}/5 <i className=\"fa-solid fa-star text-warning\"></i></h6>\r\n            <p className=\"card-text\">{artisan.specialty}</p>\r\n            <p className=\"card-text\">{artisan.location}</p>\r\n            <p className=\"card-text\">{artisan.about}</p>\r\n            <a href={artisan.website} className=\"card-text\">{artisan.website}</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <h2 className=\"ficheArtisanTitle text-dark py-2 mx-4 text-center \">Une demande ? Remplissez le formulaire pour contacter l'artisan !</h2>\r\n      <div className=\"colorTest2\">\r\n        <form id=\"contactForm\" className=\"row g-3 needs-validation px-4\" novalidate onSubmit={handleSubmit}>\r\n          <div className=\"row g-3\">\r\n            <div className=\"col mb-3\">\r\n              <label htmlFor=\"inputFirstName\" className=\"col-sm-2 col-form-label\">Nom :</label>\r\n              <div className=\"col-sm-10\">\r\n                <input type=\"text\" className=\"form-control\" id=\"inputFirstName\" placeholder=\"Nom\" required />\r\n              </div>\r\n            </div>\r\n            <div className=\"col mb-3\">\r\n              <label htmlFor=\"inputLastName\" className=\"col-sm-2 col-form-label\">Prénom :</label>\r\n              <div className=\"col-sm-10\">\r\n                <input type=\"text\" className=\"form-control\" id=\"inputLastName\" placeholder=\"Prénom\" required />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row mb-3\">\r\n            <label htmlFor=\"inputEmail3\" className=\"col-sm-2 col-form-label\">Email :</label>\r\n            <div className=\"col-sm-10\">\r\n              <input type=\"email\" className=\"form-control\" id=\"inputEmail3\" placeholder=\"exemple@exemple.com\" required />\r\n            </div>\r\n          </div>\r\n          <div className=\"row mb-3\">\r\n            <label htmlFor=\"inputSujet\" className=\"col-sm-2 col-form-label\">Sujet du message:</label>\r\n            <div className=\"col-sm-10\">\r\n              <input type=\"text\" className=\"form-control\" id=\"inputSujet\" placeholder=\"Objet de votre message\" required />\r\n            </div>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"formControlTextarea1\" className=\"form-label\">Message :</label>\r\n            <textarea className=\"form-control\" id=\"formControlTextarea1\" rows=\"3\" placeholder=\"Entrez votre message ici\" required></textarea>\r\n          </div>\r\n          <div className=\"row mb-3\">\r\n            <div className=\"col-sm-10 offset-sm-2\">\r\n              <div className=\"form-check\">\r\n                <input className=\"form-check-input\" type=\"checkbox\" id=\"gridCheck1\" required />\r\n                <label className=\"form-check-label\" htmlFor=\"gridCheck1\">\r\n                  En cochant cette case vous affirmez que toutes les informations sont exactes\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary m-3\">Envoyer</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FicheArtisan;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}