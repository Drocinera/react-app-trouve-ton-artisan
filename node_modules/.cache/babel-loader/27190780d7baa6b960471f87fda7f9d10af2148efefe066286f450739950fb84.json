{"ast":null,"code":"import React from\"react\";import{useParams}from\"react-router-dom\";import data from\"../datas.json\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FicheArtisan=()=>{const{id}=useParams();const artisan=data.find(item=>item.id===id);if(!artisan){return/*#__PURE__*/_jsx(\"div\",{children:\"Artisan non trouv\\xE9\"});}const handleSubmit=async event=>{event.preventDefault();const formData={firstName:event.target.inputFirstName.value,lastName:event.target.inputLastName.value,email:event.target.inputEmail3.value,subject:event.target.inputSujet.value,message:event.target.formControlTextarea1.value,artisanEmail:artisan.email// Ajout de l'email de l'artisan\n};try{const response=await fetch('http://localhost:3000/send-email',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const result=await response.json();alert(result.message);}catch(error){console.error('Error:',error);}};(()=>{const forms=document.querySelectorAll('.needs-validation');Array.from(forms).forEach(form=>{form.addEventListener('submit',event=>{if(!form.checkValidity()){event.preventDefault();event.stopPropagation();}form.classList.add('was-validated');},false);});})();return/*#__PURE__*/_jsxs(\"div\",{className:\"colorTest\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cardStyle row py-3 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"card col border border-dark\",style:{width:'18rem'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"cardColor card-body  text-center\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title text-uppercase\",children:artisan.name}),/*#__PURE__*/_jsxs(\"h6\",{className:\"card-subtitle mb-2 text-body-secondary\",children:[\"Note :\",artisan.note,\"/5 \",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-star text-warning\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:artisan.specialty}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:artisan.location}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:artisan.about}),/*#__PURE__*/_jsx(\"a\",{href:artisan.website,className:\"card-text\",children:artisan.website})]})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"ficheArtisanTitle text-dark py-2 mx-4 text-center \",children:\"Une demande ? Remplissez le formulaire pour contacter l'artisan !\"}),/*#__PURE__*/_jsx(\"div\",{className:\"colorTest2\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"contactForm\",className:\"row g-3 needs-validation px-4\",noValidate:true,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputFirstName\",className:\"col-sm-2 col-form-label\",children:\"Nom :\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"inputFirstName\",placeholder:\"Nom\",required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputLastName\",className:\"col-sm-2 col-form-label\",children:\"Pr\\xE9nom :\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"inputLastName\",placeholder:\"Pr\\xE9nom\",required:true})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputEmail3\",className:\"col-sm-2 col-form-label\",children:\"Email :\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"inputEmail3\",placeholder:\"exemple@exemple.com\",required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputSujet\",className:\"col-sm-2 col-form-label\",children:\"Sujet du message:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"inputSujet\",placeholder:\"Objet de votre message\",required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"formControlTextarea1\",className:\"form-label\",children:\"Message :\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"formControlTextarea1\",rows:\"3\",placeholder:\"Entrez votre message ici\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10 offset-sm-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"gridCheck1\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"gridCheck1\",children:\"En cochant cette case vous affirmez que toutes les informations sont exactes\"})]})})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary m-3\",children:\"Envoyer\"})]})})]});};export default FicheArtisan;","map":{"version":3,"names":["React","useParams","data","jsx","_jsx","jsxs","_jsxs","FicheArtisan","id","artisan","find","item","children","handleSubmit","event","preventDefault","formData","firstName","target","inputFirstName","value","lastName","inputLastName","email","inputEmail3","subject","inputSujet","message","formControlTextarea1","artisanEmail","response","fetch","method","headers","body","JSON","stringify","result","json","alert","error","console","forms","document","querySelectorAll","Array","from","forEach","form","addEventListener","checkValidity","stopPropagation","classList","add","className","style","width","name","note","specialty","location","about","href","website","noValidate","onSubmit","htmlFor","type","placeholder","required","rows"],"sources":["C:/Users/theop/OneDrive/Documents/programmeur/TrouveTonArtisan-React-App/react-app-trouve-ton-artisan/src/Components/FicheArtisan.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport data from \"../datas.json\";\r\n\r\nconst FicheArtisan = () => {\r\n  const { id } = useParams();\r\n  const artisan = data.find(item => item.id === id);\r\n\r\n  if (!artisan) {\r\n    return <div>Artisan non trouvé</div>;\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const formData = {\r\n      firstName: event.target.inputFirstName.value,\r\n      lastName: event.target.inputLastName.value,\r\n      email: event.target.inputEmail3.value,\r\n      subject: event.target.inputSujet.value,\r\n      message: event.target.formControlTextarea1.value,\r\n      artisanEmail: artisan.email // Ajout de l'email de l'artisan\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:3000/send-email', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(formData)\r\n      });\r\n\r\n      const result = await response.json();\r\n      alert(result.message);\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    }\r\n  };\r\n\r\n  (() => {\r\n    const forms = document.querySelectorAll('.needs-validation')\r\n  \r\n    Array.from(forms).forEach(form => {\r\n      form.addEventListener('submit', event => {\r\n        if (!form.checkValidity()) {\r\n          event.preventDefault()\r\n          event.stopPropagation()\r\n        }\r\n  \r\n        form.classList.add('was-validated')\r\n      }, false)\r\n    })\r\n  })();\r\n\r\n  return (\r\n    <div className=\"colorTest\">\r\n      <div className=\"cardStyle row py-3 \">\r\n        <div className=\"card col border border-dark\" style={{width: '18rem'}}>\r\n          <div className=\"cardColor card-body  text-center\">\r\n            <h5 className=\"card-title text-uppercase\">{artisan.name}</h5>\r\n            <h6 className=\"card-subtitle mb-2 text-body-secondary\">Note :{artisan.note}/5 <i className=\"fa-solid fa-star text-warning\"></i></h6>\r\n            <p className=\"card-text\">{artisan.specialty}</p>\r\n            <p className=\"card-text\">{artisan.location}</p>\r\n            <p className=\"card-text\">{artisan.about}</p>\r\n            <a href={artisan.website} className=\"card-text\">{artisan.website}</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <h2 className=\"ficheArtisanTitle text-dark py-2 mx-4 text-center \">Une demande ? Remplissez le formulaire pour contacter l'artisan !</h2>\r\n      <div className=\"colorTest2\">\r\n        <form id=\"contactForm\" className=\"row g-3 needs-validation px-4\" noValidate onSubmit={handleSubmit}>\r\n          <div className=\"row g-3\">\r\n            <div className=\"col mb-3\">\r\n              <label htmlFor=\"inputFirstName\" className=\"col-sm-2 col-form-label\">Nom :</label>\r\n              <div className=\"col-sm-10\">\r\n                <input type=\"text\" className=\"form-control\" id=\"inputFirstName\" placeholder=\"Nom\" required />\r\n              </div>\r\n            </div>\r\n            <div className=\"col mb-3\">\r\n              <label htmlFor=\"inputLastName\" className=\"col-sm-2 col-form-label\">Prénom :</label>\r\n              <div className=\"col-sm-10\">\r\n                <input type=\"text\" className=\"form-control\" id=\"inputLastName\" placeholder=\"Prénom\" required />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row mb-3\">\r\n            <label htmlFor=\"inputEmail3\" className=\"col-sm-2 col-form-label\">Email :</label>\r\n            <div className=\"col-sm-10\">\r\n              <input type=\"email\" className=\"form-control\" id=\"inputEmail3\" placeholder=\"exemple@exemple.com\" required />\r\n            </div>\r\n          </div>\r\n          <div className=\"row mb-3\">\r\n            <label htmlFor=\"inputSujet\" className=\"col-sm-2 col-form-label\">Sujet du message:</label>\r\n            <div className=\"col-sm-10\">\r\n              <input type=\"text\" className=\"form-control\" id=\"inputSujet\" placeholder=\"Objet de votre message\" required />\r\n            </div>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"formControlTextarea1\" className=\"form-label\">Message :</label>\r\n            <textarea className=\"form-control\" id=\"formControlTextarea1\" rows=\"3\" placeholder=\"Entrez votre message ici\" required></textarea>\r\n          </div>\r\n          <div className=\"row mb-3\">\r\n            <div className=\"col-sm-10 offset-sm-2\">\r\n              <div className=\"form-check\">\r\n                <input className=\"form-check-input\" type=\"checkbox\" id=\"gridCheck1\" required />\r\n                <label className=\"form-check-label\" htmlFor=\"gridCheck1\">\r\n                  En cochant cette case vous affirmez que toutes les informations sont exactes\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary m-3\">Envoyer</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FicheArtisan;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}